<!doctype html><html><head><meta name="generator" content="kosmos3.com"/><meta charset="utf-8"/><title>2012 R2</title><base href="/"/><meta name="description" content=""/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta property="og:title" content="2012 R2"/><meta property="og:description" content=""/><meta property="og:type" content="website"/><meta property="og:url" content="https://exonix.ru/%D0%A1%D1%82%D0%B0%D1%82%D1%8C%D0%B8/Windows_Server/DHCP/2012_R2/"/><meta property="og:image" content=" "/><meta name="google-site-verification" content=""/><meta name="yandex-verification" content="782d99977f221efc"/><meta name="keywords" content=""/><link rel="canonical" href="https://exonix.ru/%D0%A1%D1%82%D0%B0%D1%82%D1%8C%D0%B8/Windows_Server/DHCP/2012_R2/"/><link rel="icon" href="/favicon.ico" sizes="any"/><link rel="icon" href="/icon.svg" type="image/svg+xml"/><link rel="apple-touch-icon" href="icon.png"/><script defer="defer" src="35987de043eadfbac029.js"></script><script defer="defer" src="6e8da963a952f290426e.js"></script><script defer="defer" src="caab2fd6f178a464e783.js"></script><script defer="defer" src="cea3e0bef8bcd170fd9e.js"></script><script defer="defer" src="caa6139840eae963be39.js"></script><script defer="defer" src="eacd0d418788166e2ae1.js"></script><script defer="defer" src="b403ba1b50235d0c77a0.js"></script><script defer="defer" src="2f2c125db900c7def701.js"></script><script defer="defer" src="a2c9a3d6441fa7f47144.js"></script><script defer="defer" src="cc7419fd89288af206a6.js"></script><script defer="defer" src="d62024abe8947a74a2f5.js"></script><script defer="defer" src="ce2c7263ca855fbcb35e.js"></script><script defer="defer" src="c59175f9ca99e24d1bd3.js"></script><script defer="defer" src="9217eeb01724e3ff8b12.js"></script><script defer="defer" src="8d951af21d9a2fb61271.js"></script><script defer="defer" src="d140a0646d371e2d543d.js"></script><script defer="defer" src="ba7c8ee9b295f8df014d.js"></script><script defer="defer" src="d6d17816db46260d76a9.js"></script><script defer="defer" src="fb202151454e4df03fcb.js"></script><link href="464b4ab657e789bb6f9b.css" rel="stylesheet"><link href="675ab082df3cfd69353d.css" rel="stylesheet"><link href="b13f62cc09d29239cd87.css" rel="stylesheet"><link href="82eda635a394addd3694.css" rel="stylesheet"><link href="325ca391f07b17edc66b.css" rel="stylesheet"><link href="bedb80fb32fde87c536e.css" rel="stylesheet"><link href="d3a65e4b5830dc71eb5a.css" rel="stylesheet"><link href="6331727f9e074c2cd59f.css" rel="stylesheet"><link href="index.cdn.css" rel="stylesheet"/><link href="index.css" rel="stylesheet"/><link rel="manifest" href="site.webmanifest"/><meta name="theme-color" content="#fafafa"/><script id="yandex">(function (m, e, t, r, i, k, a) {
        m[i] =
          m[i] ||
          function () {
            (m[i].a = m[i].a || []).push(arguments);
          };
        m[i].l = 1 * new Date();
        (k = e.createElement(t)),
          (a = e.getElementsByTagName(t)[0]),
          (k.async = 1),
          (k.src = r),
          a.parentNode.insertBefore(k, a);
      })(
        window,
        document,
        "script",
        "https://mc.yandex.ru/metrika/tag.js",
        "ym"
      );
      ym("55256677", "init", {
        id: "55256677",
        clickmap: true,
        trackLinks: true,
        accurateTrackBounce: true,
        ut: "noindex",
      });</script><script async="async" src="https://www.google-analytics.com/analytics.js"></script></head><body><div class="ui sidebar very wide vertical accordion menu"></div><div class="ui main menu fixed" hidden><a class="launch icon item"><i class="content icon"></i></a><div class="header item">2012 R2</div></div><div class="pusher"><div style="z-index: 8;" class="ui fluid container" data-absolute=""><div data-id="rmenu" data-menu-icons="false" data-icons="true" data-animation="true" data-close-on-click="true" data-direction="default" data-hover-delay="100" data-open-on-click="false" data-orientation="horizontal" data-popup-collision="true" data-scrollable="true" id="menu" class="" style="align-self: center; margin-top: 503px; border-style: none; border-color: rgb(204, 204, 204) rgb(204, 204, 204) rgb(204, 204, 204) rgb(0, 0, 0); color: rgb(102, 102, 102); opacity: 1; background-position: 0% 0%; background-repeat: repeat; background-attachment: scroll; background-size: auto;"></div></div><div data-static="" class="ui container" style="z-index: 7;"><div id="content" style="margin: 558px 4px 200px; min-height: 600px; flex: 1 1 auto; padding: 20px; border-width: 2px; border-style: double; border-color: rgb(204, 204, 204); color: rgb(102, 102, 102); opacity: 1; background-repeat: repeat; background-attachment: scroll;" class="well" data-turbomenu="false"><main v-if="!content"><div>
<ul data-jkit="[menu]" class="dropdown">
<li><a href="#!Статьи.Windows_Server_Services.DHCP.2012_R2">DHCP 2012 R2</a>
<ul class="sub_menu">
<li><a href="#!Статьи.Windows_Server.DHCP">Windows DHCP Server</a></li>
<li><a href="#!Статьи.Windows_Server.DHCP.2008_R2">DHCP 2008 R2</a></li>
</ul>
</li>
</ul>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p style="text-align: justify;">&nbsp;В данной статье будет рассмотрена установка и настройка DHCP 2012 R2, а так же рассмотрены некоторые изменения по сравнению с предыдущим <a href="#!Статьи.Windows_Server.DHCP.2008_R2">DHCP 2008 R2</a>. С выходом Windows Server 2012 установка ролей и компонентов выполняется одним мастером из Server Manager. Для установки DHCP роли я решил воспользоваться более быстрым способом - PowerShell:</p>
<p><img height="768" width="1024" alt="dh0.png" src="1665845879271.png" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p style="text-align: justify;">&nbsp;Команда на установку роли DHCP и инструмента управления ролью. Если не устанавливать инструменты управления, то настраивать и управлять DHCP ролью можно из командной строки с помощью <a target="_blank" rel="noopener" href="http://technet.microsoft.com/en-us/library/jj590751.aspx">PowerShell</a>&nbsp;или команды&nbsp;<a target="_blank" rel="noopener" href="http://technet.microsoft.com/en-us/library/bb490941.aspx">netsh</a>.</p>
<p><em>Add-WindowsFeature -IncludeManagementTools dhcp</em></p>
<p><img height="280" width="1024" alt="dh1.png" src="1665845879275.png" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p>&nbsp;После установки необходимо настроить роль. Для этого необходимо открыть оснастку DHCP и сделать это можно четырьмя способами.<br>&nbsp;<strong>1</strong>) сразу после установки роли</p>
<p><img height="768" width="1024" alt="dh2.png" src="1665845879277.png" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p><strong>2</strong>) Из менеджера сервера - инструменты - DHCP<br><strong>3</strong>)&nbsp;Из менеджера сервера - меню слева DHCP - DHCP Manager</p>
<p><img height="768" width="1024" alt="dh3.png" src="1665845879279.png" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p><strong>4</strong>) Воспользоваться поиском на Стартовом Окне (бывшее меню Пуск).<br>Лично я предпочитаю использовать последний вариант запуска любых приложений Windows 8.1\Server 2012 R2</p>
<p><img height="768" width="1024" alt="dh4.png" src="1665845879281.png" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p>&nbsp;Правый клик на IPv4 - новая область (New Scope...)</p>
<p><img height="768" width="1024" alt="dh5.png" src="1665845879283.png" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p>&nbsp;Указываем имя области, например, NetworkID.</p>
<p><img height="768" width="1024" alt="dh6.png" src="1665845879285.png" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p>&nbsp;Задаём ранг выдаваемых IP адресов и маску сети:</p>
<p><img height="768" width="1024" alt="dh7.png" src="1665845879287.png" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p style="text-align: justify;">&nbsp;Если в ранге есть адреса, которые нужно исключить из раздачи, задаём их в исключениях. Так же здесь задаётся время задержки Delay. Delay нужен для того, что бы клиенты получали адреса от сервера с наименьшем времени задержки. Например, если необходимо чтобы <strong>один</strong> DHCP сервер выдавал адреса до тех пор пока они у него не закончатся, то <strong>второму</strong> серверу назначается время задержки.</p>
<p><img height="768" width="1024" alt="dh8.png" src="1665845879289.png" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p>&nbsp;Далее задаётся время аренды. Я выставляю 5 дней - рабочая неделя.</p>
<p><img height="768" width="1024" alt="dh9.png" src="1665845879291.png" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p style="text-align: justify;">&nbsp;Далее необходимо настроить опции области. Мастер предложит лишь несколько минимально необходимых опций. Если на сервере несколько областей, то для каждой можно настроить свои олции. Так же можно настроить опции на уровне сервера, которые будут применятся на все области DHCP сервера.</p>
<p><img height="768" width="1024" alt="dh10.png" src="1665845879293.png" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p>&nbsp;Адрес шлюза в интернет, он же шлюз по умолчанию.</p>
<p><img height="768" width="1024" alt="dh11.png" src="1665845879295.png" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p style="text-align: justify;">&nbsp;ДНС сервера. Для доменной сети это как правило адреса контроллера домена или отдельных ДНС, которым делегирована интегрированная в AD ДНС-зона. Например, bind установленный на Linux\Unix умеет работать с такой зоной. Так же задаётся&nbsp;главный&nbsp;ДНС-суффикс для доменной сети.</p>
<p><img height="768" width="1024" alt="dh12.png" src="1665845879297.png" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p>&nbsp;Активируем DHCP-область и на этом настройка DHCP завершена.</p>
<p><img height="768" width="1024" alt="dh13.png" src="1665845879301.png" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p><img height="768" width="1024" alt="dh14.png" src="1665845879303.png" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p style="text-align: justify;">&nbsp;Проверяем работу DHCP сервера, подключив в сеть DHCP-клиента и проверив, что он получил адрес из настроенной области. Обратите внимание на DHCPv6 IAID и DHCPv6 Client DUID - по ним назначается резервирование IPv6 адресов.</p>
<p><img height="768" width="1024" alt="dh15.png" src="1665845879305.png" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p style="text-align: right;"><em>18.04.2014</em></p>
<p style="text-align: justify;">&nbsp;</p>
<div id="vk_comments"></div></main><main v-else v-html="content"></main></div></div><div data-absolute="" class="ui fluid container" style="z-index: 6;"><div id="roof-wrap1" style="min-width: 100%; align-self: center; margin-top: 0px; min-height: 483px; padding: 10px 0px 0px; border-width: 0px 0px 4px; border-style: none none solid; border-color: rgb(255, 255, 255) rgb(255, 255, 255) rgb(246, 187, 36); color: rgb(102, 102, 102); opacity: 1; background-color: rgb(255, 255, 255); background-position: 0% 0%; background-repeat: repeat; background-attachment: scroll; background-size: auto; box-shadow: rgb(0, 0, 0) 0px 0px 2px 2px; background-image: url(&quot;1567075815596/sama2.png&quot;);" class=""><div id="roof1" data-jkit="[slideshow:interval=7000;speed=250;animation=fade]"><img src="files/roof/dresden.jpg"><img src="files/roof/moskau.jpg"><img src="1589641442742/berlin.jpg"></div></div></div><div data-absolute="" style="z-index: 5;"><div id="roof-wrap2" style="margin-left: 0px; margin-right: 0px; margin-top: 0px; min-height: 155px; padding: 10px 0px 0px; border-width: 0px 0px 4px; border-style: none none solid; border-color: rgb(255, 255, 255) rgb(255, 255, 255) rgb(246, 187, 36); color: rgb(102, 102, 102); opacity: 1; background-color: rgb(255, 255, 255); background-position: 0% 0%; background-repeat: repeat; background-attachment: scroll; background-image: url(&quot;1567075817539/sama2.png&quot;);" class=""><div id="roof2"><img src="files/roof/site2.gif" width="100%"></div></div></div><div data-absolute="" class="ui container" style="z-index: 4;"><div class="" id="copyright" style="margin-left: 5px; min-width: 50px; align-self: center; margin-bottom: 148px; min-height: 38px; border-style: none; border-color: rgb(0, 0, 0); color: rgb(102, 102, 102); opacity: 1; background-repeat: repeat; background-attachment: scroll;"><p><a style="color: #6aa3b1;" href="//redaktr.com" title="Redaktr.com - твой бесплатный сайт в облаке! Начни redaktировать прямо сейчас!"><i style="text-shadow: 1px 1px 1px black;" class="fa fa-cloud-upload fa-3x"></i></a></p></div></div><div data-absolute="" class="ui container" style="z-index: 3;"><div class="" id="live-internet" style="margin-left: 70px; min-width: 88px; align-self: center; margin-bottom: 149px; min-height: 31px; border-style: none; border-color: rgb(0, 0, 0); color: rgb(102, 102, 102); opacity: 1; background-repeat: repeat; background-attachment: scroll;"><p></p></div></div><div data-absolute="" style="z-index: 2;"><div id="main-footer" style="margin-left: 0px; margin-right: 0px; margin-bottom: 0px; min-height: 177px; border-style: none; border-color: rgb(0, 0, 0); color: rgb(102, 102, 102); opacity: 1; background-position: 50% 0px; background-repeat: no-repeat; background-attachment: scroll; background-image: url(&quot;1567149113516/motherboard.png&quot;);" class=""></div></div><div data-absolute="" style="z-index: 1;"><div id="wholebg" style="margin: 0px; flex: 1 1 auto; border-style: none; border-color: rgb(0, 0, 0); color: rgb(102, 102, 102); opacity: 1; background-position: 0% 0%; background-repeat: repeat; background-attachment: scroll; background-image: url(&quot;1567075817543/leather_1.png&quot;);" class=""></div></div></div></body></html>